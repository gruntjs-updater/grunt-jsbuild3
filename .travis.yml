language: node_js
node_js:
- '0.12'
sudo: false
before_install:
- npm install -g npm@next
before_script:
- npm install -g grunt-cli
script:
- grunt test
before_deploy:
- grunt replace:version --tag=$TRAVIS_TAG --build=$TRAVIS_BUILD_NUMBER
- npm unpublish emp.ria-grunt-jsbuild3@$TRAVIS_TAG
- cat ~/.npmrc
deploy:
  provider: npm
  email: viatsyshyn@gmail.com
  api_key:
    secure: CZywlFDD68n1EH546ppdL8duJDD0DfM5ON29PLlfncwRuQQFL0FnQgpw18EoxiG/06YRNhAiKoBkuf/dk2hfInBWsos7AR6fN9KT8z1cPePKWwXDVWyNiwrwRa1JAh0L0MZ8wgsAhv3mnpD6uZsqijCbayHn0NQYfsZO7/f7Bn9djNTilHqLE8eFOzh30inEVqNo2E5BXTVNhnM38j29KwQ9BDwblkmxFR+40KgwGT39n2L5JRVztvHJJaDVIOxJUAaYbSNtL3d7OlkXZPUW6ZQLjoRshnVUCdsqNbHy72QVcO1KniTmzivf2G0kkoeI+bw76+m0D23KBdGbqn0ZOauIqoxOQuSlqT0nx3A5EFnChCtmbD4KzavipprmkoimHk/rW+0WeABseW4b+p+H5o4QMvyyLT27seRRuY/qs8awvcZ8rzuBbECh9wPeSOLzzDU/obKieaYFcA6Wd5CWZP2AQRBPuQzYpDBQ8UfXAYIx0E1wj37Ts1uwAlXavEm2puP2qicAE0M2zKlQ1jcJIhaLyb78dhOG6vd5LcVn564JQEDPmQIxfKJ9CBHxhsyJkD2pJk9Nd2fsbJrN+7MwHm8skgEcdCowDgBOraopGvKSuljrTUbq1itrfqktGZWcxYMJ2zk7PdU/299IeZthYjo7BHt4gK0j0rJKASYuno8=
  skip_cleanup: true
  on:
    tags: true
    repo: viatsyshyn/grunt-jsbuild3
